<% const {namespace, productname, accessoryArray} = accessoryCarouselConf -%>
<% const relatedDeviceArray = ['iphone-15-pro-max', 'iphone-15-pro', 'iphone-15-plus', 'iphone-15', 'iphone-14-pro-max', 'iphone-14-pro', 'iphone-14-plus', 'iphone-14', 'iphone-13', 'iphone-13-mini', 'iphone-se-3rd'] -%>

<section class="<%= namespace %>-Carousel" id="recommend">
  <div class="l-System_Container">
    <div class="<%= namespace %>-Carousel_Wrapper">
      <%# スクロール計測 %>
      <div class="u-Rat_Appear-height" data-ratid="<%= currentDir %>_scroll-04_accessory-lineup" data-ratevent="appear">&nbsp;</div>
        <%_ if (relatedDeviceArray.includes(currentDir)) { _%>
          <h3 class="c-Heading_Lv3">関連アクセサリ</h3>
        <%_ } else { _%>
          <h3 class="c-Heading_Lv3 u-Adjust_Align-center"><%- productname %> のアクセサリ一覧</h3>
        <%_ } _%>
        <div class="u-Adjust_Mt-16">
          <div class="c-Carousel <%= namespace %>-Carousel_Wrap js-<%= namespace %>-Carousel-product">

            <%_ accessoryArray.forEach(value => { _%>
              <a class="c-Card_Normal <%= namespace %>-Carousel_Item" href="<%- value.url %>">
                <div class="<%= namespace %>-Carousel_Flex">
                  <div class="<%= namespace %>-Carousel_Img">
                    <%_ if (value.alt) { _%>
                    <img src="<%- value.image %>" alt="<%- value.alt %>">
                    <%_ } else { _%>
                    <img src="<%- value.image %>" alt="<%- value.name %>">
                    <%_ } _%>
                  </div>
                  <div class="<%= namespace %>-Carousel_Txt">
                    <p class="<%= namespace %>-Carousel_Name"><%- value.name %></p>
                    <%_ if(value.color) { _%>
                      <ul class="<%= namespace %>-Carousel_Color">
                        <%_ value.color.forEach(ele => { _%>
                          <li>
                            <span class="" style="background: <%- ele.code %>;"></span>
                          </li>
                        <%_ }); _%>
                      </ul>
                    <%_ } _%>
                  </div>
                </div>
                <div>
                  <%_ if(value.beforePrice) { _%>
                    <p class="<%= namespace %>-Carousel_Price"><span><del><%- value.beforePrice %></del>円</span>→<span><%- value.price %></span>円</p>
                  <%_ } else { _%>
                    <p class="<%= namespace %>-Carousel_Price"><span><%- value.price %></span>円</p>
                  <%_ } _%>
                </div>
              </a>
            <%_ }); _%>

          </div>
          <div class="c-Carousel_Nav-v2-wrap">
            <div class="c-Carousel_Nav-v2"></div>
            <div class="c-Carousel_Nav-v2-bar"></div>
          </div>
        </div>

    </div>
    <div class="<%= namespace %>-Carousel_Link u-Adjust_Align-center u-Adjust_Mt-16">
      <%_ if (relatedDeviceArray.includes(currentDir)) { _%>
        <a class="c-Btn_Regular" href="<%= sitepath %>product/accessory/apple/?l-id=product_iphone_<%= currentDir %>_accessory_apple">アクセサリ一覧を見る</a>
      <%_ } else { _%>
        <a class="c-Btn_Regular" href="<%= sitepath %>product/accessory/apple/">アクセサリ一覧を見る</a>
      <%_ } _%>
    </div>
  </div>

</section>
