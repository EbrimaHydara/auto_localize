<% const pagetitle = "愛媛CATVからのお申し込み" -%>
<% const directories = [{path:"shop/", label:"ショップ（店舗）"}] -%>
<%-
include('/_header', {
  pagetitle,
  directories,
  description: '',
  noindex: true,
  pathname: filepath
});
%>
<%- include('/include/_common-css-v2') %>
<%- include('/include/_append-head') %>
</head>

<body>
  <%- include('/include/_prepend-body') %>
  <div class="l-System">
    <%- include('/include/_header-simple') %>
    <div class="l-System_Container">
      <h1 class="c-Heading_Lv1 u-Adjust_Mt-32"><%= pagetitle %></h1>
      <form action="https://form.rakuten.co.jp/ans/apply/40292" name="enenForm" method="POST" onsubmit="return checkForm()" class="u-Adjust_Mt-24">
        <dl class="c-Form_List">
          <div>
            <dt>6桁のエントリーコードを入力してください。<span class="c-Form_List-required">【必須】</span></dt>
            <dd class="u-Adjust_Pb-24">
              <input class="c-Form_Input" type="text" name="answers[40292_274181]" size="20" maxlength="6" aria-required="true" autocomplete="off">
            </dd>
          </div>
        </dl>
        <p class="c-Txt_Cap u-Adjust_Mt-16">※送信後楽天会員ログイン画面に遷移し、ログイン後楽天モバイルお申し込み画面に進みます。</p>
        <input type="hidden" name="c" value="楽天">
        <input type="hidden" name="l" value="ja">
        <div class="u-Adjust_Mt-24 u-Adjust_Mb-32 u-Adjust_Align-center">
          <input type="submit" class="c-Btn_Primary-large" value="送信する">
        </div>
      </form>
    </div>
    <footer class="g-Footer">
      <%- include('/include/_footer-simple') %>
    </footer>
  </div>
  <%- include('/include/_common-js') %>
  <%- include('/include/_append-body') %>

  <script>
    function doTrim(el) {
      el.value = el.value.replace(/^\s+|\s+$/g, '');
    }

    function isInput(el) {
      return el.value.length != 0;
    }

    function isLength(el, len) {
      if ("え".length == 2) {
        len *= 2;
      }
      return el.value.length <= len;
    }

    function zen2han(el) {
      el.value = el.value.replace(/[０]/g, "0");
      el.value = el.value.replace(/[１]/g, "1");
      el.value = el.value.replace(/[２]/g, "2");
      el.value = el.value.replace(/[３]/g, "3");
      el.value = el.value.replace(/[４]/g, "4");
      el.value = el.value.replace(/[５]/g, "5");
      el.value = el.value.replace(/[６]/g, "6");
      el.value = el.value.replace(/[７]/g, "7");
      el.value = el.value.replace(/[８]/g, "8");
      el.value = el.value.replace(/[９]/g, "9");
    }

    function checkForm() {
      var el;
      var obj = document.enenForm;

      el = obj.elements['answers[40292_274181]'];
      doTrim(el);
      zen2han(el);
      if (!isInput(el)) {
        alert("「6桁の取扱店舗コードを入力してください。」を入力してください。");
        return false;
      }

      if (!isLength(el, 6)) {
        alert("「6桁の取扱店舗コードを入力してください。」は6文字以内で入力してください。");
        return false;
      }
    }
  </script>

</body>

</html>
