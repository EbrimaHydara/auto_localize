<?xml version='1.0' encoding='Windows-31J' ?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:fes="http://fes.rakuten-bank.co.jp/jsf/custom"
      xmlns:mbl="http://m.rakuten-bank.co.jp/jsf/custom"
      xml:lang="ja" lang="ja" class="no-js">

<head>
    <ui:include src="/rb/mobile/views/common/parts/SFESHeader.xhtml" />
    <ui:remove>
        <title>楽天銀行</title>
        <meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-control" content="no-cache" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="format-detection" content="email=no" />
        <link rel="stylesheet" href="../../../../../css/common/cwd2016/app.css" type="text/css" />
        <link rel="stylesheet" href="../../../../../css/common/sys2016/app.css" type="text/css" />
        <script language="JavaScript" src="../../../../../js/common/jquery.js" type="text/javascript"></script>
    </ui:remove>
</head>

<body>
    <f:view>
        <div class="rf-grid-wide rf-grid--1 rf-global-header">
            <div class="rf-grid-column">
                <header id="header">
                    <ui:include src="/rb/mobile/views/common/parts/TitleLeft.xhtml" />
                    <ui:remove>
                        ■インクルード  /rb/mobile/views/common/parts/TitleLeft.xhtml
                    </ui:remove>
                    <!-- 画面ﾀｲﾄﾙ -->
                    <div class="rf-title-area">
                        <!-- app.jsで文字の大きさを動的に変更する際に正しい文字数で判定できる様に、h1タグをインデントをつけず1行で実装。 -->
                        <h1><fes:outputText value="認証" /><ui:remove>認証</ui:remove></h1>
                    </div>
                    <ui:include src="/rb/mobile/views/common/parts/TitleRight.xhtml" />
                    <ui:remove>
                        ■インクルード  /rb/mobile/views/common/parts/TitleRight.xhtml
                    </ui:remove>
                </header>
            </div>
        </div>
        <ui:include src="/rb/mobile/views/common/parts/SFESLogout.xhtml" />
        <ui:remove>
            ■インクルード  /rb/mobile/views/common/parts/SFESLogout.xhtml
        </ui:remove>
        <!-- サービス固有部分 START -->
        <main>
            <h:form>
                <section>
                    <div class="rf-grid rf-grid--1">
                        <div class="rf-grid-column">
                            <!-- [必須]エラーメッセージ表示領域 -->
                            <f:subview id="error_top" rendered="#{errorBean.errorFlg}">
                                <ui:include src="/rb/mobile/views/common/parts/ErrorMessage2016.xhtml" />
                                <ui:remove>
                                    ■インクルード  /rb/mobile/views/common/parts/ErrorMessage2016.xhtml
                                </ui:remove>
                            </f:subview>
                            <h2 class="rf-title rf-title-wide rf-align-center rf-small">
                                <fes:outputText value="ワンタイムキーの送信" />
                                <ui:remove>ワンタイムキーの送信</ui:remove>
                            </h2>
                            <p>
                                <fes:outputText value="登録されたお客さまのメールアドレスにワンタイムキーを送信します。" />
                                <ui:remove>登録されたお客さまのメールアドレスにワンタイムキーを送信します。</ui:remove>
                            </p>
                            <mbl:commandButton value="ワンタイムキーを送信する" class="rf-button-primary rf-block" actionID="EXECUTE_ISSUE" action="#{checkStatusAddressControlManagedBean.execute}" />
                            <ui:remove>
                                <input type="submit" value="ワンタイムキーを送信する" class="rf-button-primary rf-block" />
                            </ui:remove>
                            <div class="rf-accordion rf-accordion-border">
                                <dl>
                                    <dt>
                                        <a aria-expanded="false" aria-controls="accordion-1" class="rf-accordion--trigger is-collapsed" href="#accordion-1">
                                            <fes:outputText value="ワンタイム認証とは" />
                                            <ui:remove>ワンタイム認証とは</ui:remove>
                                            <span aria-hidden="true" class="rf-icon-ui-arrowheadup-lightgray" />
                                            <span aria-hidden="true" class="rf-icon-ui-arrowheaddown-lightgray" />
                                        </a>
                                    </dt>
                                    <dd id="accordion-1" aria-hidden="true" class="is-collapsed">
                                        <p>
                                            <fes:outputText value="ワンタイム認証は、重要な取引を行う際に、ランダムに生成する1回限りの使い捨てパスワード（ワンタイムキー）を利用する認証方法です。" />
                                            <ui:remove>ワンタイム認証は、重要な取引を行う際に、ランダムに生成する1回限りの使い捨てパスワード（ワンタイムキー）を利用する認証方法です。</ui:remove>
                                        </p>
                                        <ul class="rf-list-ref-mark">
                                            <li>
                                                <fes:outputText value="ワンタイムキーを複数回送信した場合、常に最新のワンタイムキーのみが有効となります。" />
                                                <ui:remove>ワンタイムキーを複数回送信した場合、常に最新のワンタイムキーのみが有効となります。</ui:remove>
                                            </li>
                                        </ul>
                                        <a href="https://www.rakuten-bank.co.jp/rd/sfes/security/001.html" target="_blank" class="rf-link-block rf-align-right">
                                            <fes:outputText value="ワンタイム認証の詳細はこちら" />
                                            <ui:remove>ワンタイム認証の詳細はこちら</ui:remove>
                                            <span aria-hidden="true" class="rf-icon-ui-external-brown" />
                                        </a>
                                    </dd>
                                </dl>
                            </div>
                            <fes:choose>
                                <!-- 送信後 START -->
                                <fes:when condition="#{checkStatusAddressControlManagedBean.checkStatusAddressControlFormBean.isIssueSecurityCode}">
                                    <p class="rf-beta">
                                        <fes:outputText value="以下のメールアドレスにワンタイムキーを送信しました。" />
                                        <ui:remove>以下のメールアドレスにワンタイムキーを送信しました。</ui:remove>
                                    </p>
                                    <div class="rf-panel">
                                        <p class="rf-panel-title rf-align-center">
                                            <mbl:outputText value="#{jspFunctionManager.secretMailAddressFunction[checkStatusAddressControlManagedBean.checkStatusAddressControlFormBean.mailAddress]}" />
                                            <ui:remove>aaabbbccc@rakuten.com</ui:remove>
                                        </p>
                                    </div>
                                </fes:when>
                                <!-- 送信後 END -->
                            </fes:choose>
                        </div>
                    </div>
                </section>
                <section>
                    <div class="rf-grid rf-grid--1">
                        <div class="rf-grid-column">
                            <h2 class="rf-title rf-title-wide rf-align-center rf-small">
                                <fes:outputText value="ワンタイムキーの入力" />
                                <ui:remove>ワンタイムキーの入力</ui:remove>
                            </h2>
                            <fes:choose>
                                <!-- 送信後 START -->
                                <fes:when condition="#{checkStatusAddressControlManagedBean.checkStatusAddressControlFormBean.isIssueSecurityCode}">
                                    <p class="rf-color-error">
                                        <fes:outputText value="届いたメールを確認し、もう一度この画面に戻ってワンタイムキーを入力してください。" />
                                        <ui:remove>届いたメールを確認し、もう一度この画面に戻ってワンタイムキーを入力してください。</ui:remove>
                                    </p>
                                </fes:when>
                                <!-- 送信後 END -->
                                <!-- 送信前 START -->
                                <fes:otherwise>
                                    <p>
                                        <fes:outputText value="#{PROPERTIES_KEY['valid.term.of.security.code.for.base']}" />
                                        <fes:outputText value="分以内に発行されたワンタイムキーをお持ちの方は、こちらに入力してください。" />
                                    </p>
                                </fes:otherwise>
                                <!-- 送信前 END -->
                            </fes:choose>
                            <fieldset>
                                <label for="" class="rf-form-label">
                                    <fes:outputText value="ワンタイムキー（半角英数字のみ）" />
                                    <ui:remove>ワンタイムキー（半角英数字のみ）</ui:remove>
                                </label>
                                <mbl:inputText id="SECURITY_CODE" placeholder="例：1234" class="rf-field rf-block" value="#{checkStatusAddressControlManagedBean.checkStatusAddressControlFormBean.securityCode}" clear="true" maxlength="20" istyle="3" />
                                <ui:remove>
                                    <input type="text" placeholder="例：1234" class="rf-field rf-block" clear="true" maxlength="20" istyle="3" />
                                </ui:remove>
                            </fieldset>
                            <div class="rf-panel">
                                <p>
                                    <mark class="rf-color-error">
                                        <fes:outputText value="ワンタイムキーは" />
                                        <fes:outputText value="#{PROPERTIES_KEY['valid.term.of.security.code.for.base']}" />
                                        <fes:outputText value="分間有効です。" />
                                        <ui:remove>ワンタイムキーは60分間有効です。</ui:remove>
                                    </mark>
                                    <br />
                                    <fes:outputText value="#{PROPERTIES_KEY['valid.term.of.security.code.for.base']}" />
                                    <fes:outputText value="分以上経過した場合は再送信してください。" />
                                    <ui:remove>60分以上経過した場合は再送信してください。</ui:remove>
                                </p>
                            </div>
                        </div>
                        <div class="rf-grid-column">
                            <ui:remove>
                                <input type="button" value="認証を行う" class="rf-button-primary rf-block" />
                                <a href="" class="rf-button-secondary rf-block">前画面に戻る</a>
                            </ui:remove>
                            <mbl:commandButton value="認証を行う" actionID="EXECUTE_REGISTER" action="#{checkStatusAddressControlManagedBean.execute}" class="rf-button-primary rf-block" />
                            <h:inputHidden id="TOKEN" value="#{systemDataBean.clientSideToken}" />
                            <mbl:commandLink value="前画面に戻る" action="#{checkStatusAddressControlManagedBean.back}" class="rf-button-secondary rf-block" actionID="BACK" />
                        </div>
                    </div>
                </section>
            </h:form>
        </main>
        <div id="rf-js-scroll-top" data-footer-id="footer" class="rf-scroll-top rf-js-scroll-fixed">
            <a href="#header">
                <span class="rf-icon-ui-arrowup-white">
                    <em>
                        <fes:outputText value="ページの先頭へ" />
                        <ui:remove>ページの先頭へ</ui:remove>
                    </em>
                </span>
            </a>
        </div>
        <!-- サービス固有部分 END   -->
        <f:subview id="copyright">
            <ui:include src="/rb/mobile/views/common/parts/SFESFooter.xhtml" />
            <ui:remove>
                ■インクルード  /rb/mobile/views/common/parts/SFESFooter.xhtml
                <script language="JavaScript" src="../../../../../js/common/siteCatalystScripts.js" type="text/javascript"></script>
                <script language="JavaScript" src="../../../../../js/common/s_code.js" type="text/javascript"></script>
                <script language="JavaScript" src="../../../../../js/common/cwd2016/modernizr.js" type="text/javascript"></script>
                <script language="JavaScript" src="../../../../../js/common/cwd2016/app.js" type="text/javascript"></script>
                <script language="JavaScript" src="../../../../../js/common/sys2016/app.js" type="text/javascript"></script>
            </ui:remove>
        </f:subview>
    </f:view>
    <!-- [任意]画面固有のJavaScript -->
    <script language="JavaScript" type="text/javascript">
    //<![CDATA[
    $(document).ready(function() {
        $("input").on("keypress", function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                return false;
            }
        });
    });
    //]]>
    </script>
</body>
</html>

<!-- Copyright (c) 2001 Rakuten Bank, Ltd. All Rights Reserved. -->